LeetCode 739 ? Daily Temperatures (README)
주어진 온도 배열 temperatures[i]에서, 각 날마다 더 따뜻한 날이 오기까지 기다려야 하는 일수를 구하는 문제입니다. 더 따뜻한 날이 없다면 0을 기록합니다.

예)
입력: [73,74,75,71,69,72,76,73]
출력: [1,1,4,2,1,1,0,0]

핵심 아이디어: 모노토닉 스택(Monotonic Stack)
모노토닉 스택이란?
스택에 값의 단조성(증가/감소)이 유지되도록 원소를 넣고 빼는 기법입니다.

“다음 더 큰 값(Next Greater Element)” 같은 한 방향 탐색 + 비교 문제를 O(n)으로 푸는 데 특화되어 있어요.

이 문제에서의 선택
내림차순(감소) 스택을 사용합니다.
스택에는 인덱스를 넣고, 스택 top에 해당하는 온도들이 내림차순이 되도록 유지합니다.

현재 온도 T[i]가 스택 top의 온도보다 크면:

top 인덱스 j를 꺼내고

그날의 답을 i - j로 채웁니다(“j에서 i까지 기다린 날수”).

더 이상 T[i]보다 작거나 같은 온도가 스택 top이면 계속 pop.

이후 현재 인덱스 i를 스택에 push.

왜 O(n)인가?
각 인덱스는 스택에 한 번 push, 최대 한 번 pop됩니다.
따라서 전체 연산 수는 상수배의 n을 넘지 않습니다(암ortized O(n)).

정답 코드 (C++)
cpp
복사
편집
#include <vector>
#include <stack>
using namespace std;

class Solution {
public:
    vector<int> dailyTemperatures(vector<int>& T) {
        int n = T.size();
        vector<int> ans(n, 0);
        stack<int> st; // 인덱스를 담는 스택(온도는 내림차순으로 유지)

        for (int i = 0; i < n; ++i) {
            while (!st.empty() && T[i] > T[st.top()]) {
                int j = st.top(); st.pop();
                ans[j] = i - j; // j날보다 i날이 더 따뜻하므로 대기 일수 확정
            }
            st.push(i);
        }
        return ans;
    }
};
동작 예시 (핵심 단계만)
T = [73,74,75,71,69,72,76,73]

i=0(73): 스택=[] → push(0) → [0]

i=1(74): 74>73 → pop(0), ans[0]=1 → push(1) → [1]

i=2(75): 75>74 → pop(1), ans[1]=1 → push(2) → [2]

i=3(71): 71<75 → push(3) → [2,3]

i=4(69): 69<71 → push(4) → [2,3,4]

i=5(72): 72>69 → pop(4), ans[4]=1
72>71 → pop(3), ans[3]=2 → push(5) → [2,5]

i=6(76): 76>72 → pop(5), ans[5]=1
76>75 → pop(2), ans[2]=4 → push(6) → [6]

i=7(73): 73<76 → push(7) → [6,7]
끝나고 스택에 남은 인덱스는 더 따뜻한 날이 없으므로 0 유지.

시간·공간 복잡도
시간: O(n) ? 각 인덱스가 최대 1회 push/pop

공간: O(n) ? 스택에 최악의 경우 O(n)개 인덱스가 잠시 쌓일 수 있음

엣지 케이스 & 체크리스트
같은 온도는 “더 따뜻한”이 아니므로 pop 조건이 >(엄격 비교)여야 함.

인덱스를 저장해야 함(값 저장 금지). 값 저장하면 정답 거리 계산 불가.

빈 배열/원소 1개: 그대로 반환(모두 0).

자주 하는 실수 (피해야 할 것)
for (int cur : temperatures)에서 온도 값을 인덱스로 착각하고 ans[cur], visited[cur] 접근 → 범위 오류.

DFS/브루트포스 등으로 오른쪽을 매번 훑기 → **O(n^2)**로 TLE.

pop 조건을 >=로 쓰면, 같은 온도에서 앞선 날이 뒤에 가려져 잘못된 결과가 생김 (이 문제는 “더 따뜻한”만 인정).